"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[5299],{3905:function(e,n,a){a.d(n,{Zo:function(){return c},kt:function(){return p}});var t=a(67294);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function s(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function r(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=t.createContext({}),m=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):s(s({},n),e)),a},c=function(e){var n=m(e.components);return t.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),u=m(a),p=i,g=u["".concat(l,".").concat(p)]||u[p]||d[p]||o;return a?t.createElement(g,s(s({ref:n},c),{},{components:a})):t.createElement(g,s({ref:n},c))}));function p(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=a.length,s=new Array(o);s[0]=u;var r={};for(var l in n)hasOwnProperty.call(n,l)&&(r[l]=n[l]);r.originalType=e,r.mdxType="string"==typeof e?e:i,s[1]=r;for(var m=2;m<o;m++)s[m]=a[m];return t.createElement.apply(null,s)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},20633:function(e,n,a){a.r(n),a.d(n,{frontMatter:function(){return r},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return c},default:function(){return u}});var t=a(87462),i=a(63366),o=(a(67294),a(3905)),s=["components"],r={title:"Domains Guide",slug:"/domains",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/domains.md"},l="Domains Guide",m={unversionedId:"docs/domains",id:"docs/domains",isDocsHomePage:!1,title:"Domains Guide",description:"What is a Domain?",source:"@site/genDocs/docs/domains.md",sourceDirName:"docs",slug:"/domains",permalink:"/docs/domains",editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/domains.md",tags:[],version:"current",frontMatter:{title:"Domains Guide",slug:"/domains",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/domains.md"},sidebar:"overviewSidebar",previous:{title:"SQL Profiling",permalink:"/docs/metadata-ingestion/docs/dev_guides/sql_profiles"},next:{title:"Business Glossary Guide",permalink:"/docs/how/business-glossary-guide"}},c=[{value:"What is a Domain?",id:"what-is-a-domain",children:[{value:"Tags vs. Glossary Terms vs. Domains",id:"tags-vs-glossary-terms-vs-domains",children:[],level:3}],level:2},{value:"Creating a Domain",id:"creating-a-domain",children:[{value:"Advanced: Setting a Custom Domain id",id:"advanced-setting-a-custom-domain-id",children:[],level:4}],level:2},{value:"Assigning an Asset to a Domain",id:"assigning-an-asset-to-a-domain",children:[{value:"UI-Based Assignment",id:"ui-based-assignment",children:[],level:3},{value:"Ingestion-time Assignment",id:"ingestion-time-assignment",children:[],level:3}],level:2},{value:"Searching by Domain",id:"searching-by-domain",children:[],level:2},{value:"Domains API",id:"domains-api",children:[{value:"Examples",id:"examples",children:[],level:3}],level:2},{value:"Demo",id:"demo",children:[],level:2},{value:"Feedback / Questions / Concerns",id:"feedback--questions--concerns",children:[],level:2}],d={toc:c};function u(e){var n=e.components,r=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,t.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"domains-guide"},"Domains Guide"),(0,o.kt)("h2",{id:"what-is-a-domain"},"What is a Domain?"),(0,o.kt)("p",null,"Starting in version ",(0,o.kt)("inlineCode",{parentName:"p"},"0.8.25"),", DataHub supports grouping data assets into logical collections called ",(0,o.kt)("strong",{parentName:"p"},"Domains"),". Domains are curated, top-level\nfolders or categories where related assets can be explicitly grouped. Management of Domains can be centralized, or distributed out\nto Domain owners. Currently, an asset can belong to only one Domain at a time. "),(0,o.kt)("h3",{id:"tags-vs-glossary-terms-vs-domains"},"Tags vs. Glossary Terms vs. Domains"),(0,o.kt)("p",null,"DataHub supports Tags, Glossary Terms, & Domains as distinct types of Metadata that are suited for specific purposes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Tags"),": Informal, loosely controlled labels that serve as a tool for search & discovery. Assets may have multiple tags. No formal, central management."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Glossary Terms"),": A controlled vocabulary, with optional hierarchy. Terms are typically used to standardize types of leaf-level attributes (i.e. schema fields) for governance. E.g. (EMAIL_PLAINTEXT)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Domains"),": A set of top-level categories. Usually aligned to business units / disciplines to which the assets are most relevant. Central or distributed management. Single Domain assignment per data asset.")),(0,o.kt)("h2",{id:"creating-a-domain"},"Creating a Domain"),(0,o.kt)("p",null,"To create a Domain, first navigate to the ",(0,o.kt)("strong",{parentName:"p"},"Domains")," tab in the top-right menu of DataHub. Users must have the Platform Privilege\ncalled ",(0,o.kt)("inlineCode",{parentName:"p"},"Manage Domains")," to view this tab, which can be granted by creating a new Platform ",(0,o.kt)("a",{parentName:"p",href:"/docs/authorization/policies"},"Policy"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(29834).Z})),(0,o.kt)("p",null,"Once you're on the Domains page, you'll see a list of all the Domains that have been created on DataHub. Additionally, you can\nview the number of entities inside each Domain. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(52409).Z})),(0,o.kt)("p",null,"To create a new Domain, click '+ New Domain'."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(35537).Z})),(0,o.kt)("p",null,"Inside the form, you can choose a name for your name. Most often, this will align with your business units or groups, for example\n'Platform Engineering' or 'Social Marketing'. You can also add an optional description. Don't worry, this can be changed later."),(0,o.kt)("h4",{id:"advanced-setting-a-custom-domain-id"},"Advanced: Setting a Custom Domain id"),(0,o.kt)("p",null,"Click on 'Advanced' to show the option to set a custom Domain id. The Domain id determines what will appear in the DataHub 'urn' (primary key)\nfor the Domain. This option is useful if you intend to refer to Domains by a common name inside your code, or you want the primary\nkey to be human-readable. Proceed with caution: once you select a custom id, it cannot be easily changed. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(69196).Z})),(0,o.kt)("p",null,"By default, you don't need to worry about this. DataHub will auto-generate an unique Domain id for you. "),(0,o.kt)("p",null,"Once you've chosen a name and a description, click 'Create' to create the new Domain. "),(0,o.kt)("h2",{id:"assigning-an-asset-to-a-domain"},"Assigning an Asset to a Domain"),(0,o.kt)("p",null,"You can assign assets to Domain using the UI or programmatically using the API or during ingestion. "),(0,o.kt)("h3",{id:"ui-based-assignment"},"UI-Based Assignment"),(0,o.kt)("p",null,"To assign an asset to a Domain, simply navigate to the asset's profile page. At the bottom left-side menu bar, you'll\nsee a 'Domain' section. Click 'Set Domain', and then search for the Domain you'd like to add to. When you're done, click 'Add'."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(96892).Z})),(0,o.kt)("p",null,"To remove an asset from a Domain, click the 'x' icon on the Domain tag. "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Notice: Adding or removing an asset from a Domain requires the ",(0,o.kt)("inlineCode",{parentName:"p"},"Edit Domain")," Metadata Privilege, which can be granted\nby a ",(0,o.kt)("a",{parentName:"p",href:"/docs/authorization/policies"},"Policy"),".")),(0,o.kt)("h3",{id:"ingestion-time-assignment"},"Ingestion-time Assignment"),(0,o.kt)("p",null,"All SQL-based ingestion sources support assigning domains during ingestion using the ",(0,o.kt)("inlineCode",{parentName:"p"},"domain")," configuration. Consult your source's configuration details page (e.g. ",(0,o.kt)("a",{parentName:"p",href:"/docs/generated/ingestion/sources/snowflake"},"Snowflake"),"), to verify that it supports the Domain capability."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Assignment of domains during ingestion will overwrite domains that you have assigned in the UI. A single table can only belong to one domain."))),(0,o.kt)("p",null,"Here is a quick example of a snowflake ingestion recipe that has been enhanced to attach the ",(0,o.kt)("strong",{parentName:"p"},"Analytics")," domain to all tables in the ",(0,o.kt)("strong",{parentName:"p"},"long_tail_companions")," database in the ",(0,o.kt)("strong",{parentName:"p"},"analytics")," schema, and the ",(0,o.kt)("strong",{parentName:"p"},"Finance")," domain to all tables in the ",(0,o.kt)("strong",{parentName:"p"},"long_tail_companions")," database in the ",(0,o.kt)("strong",{parentName:"p"},"ecommerce")," schema."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: snowflake\n  config:\n    username: ${SNOW_USER}\n    password: ${SNOW_PASS}\n    account_id: \n    warehouse: COMPUTE_WH\n    role: accountadmin\n    database_pattern:\n      allow:\n        - "long_tail_companions"\n    schema_pattern:\n      deny:\n        - information_schema\n    profiling:\n      enabled: False\n    domain:\n      Analytics:\n        allow:\n          - "long_tail_companions.analytics.*"\n      Finance:\n        allow:\n          - "long_tail_companions.ecommerce.*"\n')),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"When bare domain names like ",(0,o.kt)("inlineCode",{parentName:"p"},"Analytics")," is used, the ingestion system will first check if a domain like ",(0,o.kt)("inlineCode",{parentName:"p"},"urn:li:domain:Analytics")," is provisioned, failing that; it will check for a provisioned domain that has the same name. If we are unable to resolve bare domain names to provisioned domains, then ingestion will refuse to proceeed until the domain is provisioned on DataHub."))),(0,o.kt)("p",null,"You can also provide fully-qualified domain names to ensure that no ingestion-time domain resolution is needed. For example, the following recipe shows an example using fully qualified domain names:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: snowflake\n  config:\n    username: ${SNOW_USER}\n    password: ${SNOW_PASS}\n    account_id:\n    warehouse: COMPUTE_WH\n    role: accountadmin\n    database_pattern:\n      allow:\n        - "long_tail_companions"\n    schema_pattern:\n      deny:\n        - information_schema\n    profiling:\n      enabled: False\n    domain:\n      "urn:li:domain:6289fccc-4af2-4cbb-96ed-051e7d1de93c":\n        allow:\n          - "long_tail_companions.analytics.*"\n      "urn:li:domain:07155b15-cee6-4fda-b1c1-5a19a6b74c3a":\n        allow:\n          - "long_tail_companions.ecommerce.*"\n')),(0,o.kt)("h2",{id:"searching-by-domain"},"Searching by Domain"),(0,o.kt)("p",null,"Once you've created a Domain, you can use the search bar to find it."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(56076).Z})),(0,o.kt)("p",null,"Clicking on the search result will take you to the Domain's profile, where you\ncan edit its description, add / remove owners, and view the assets inside the Domain. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(61319).Z})),(0,o.kt)("p",null,"Once you've added assets to a Domain, you can filter search results to limit to those Assets\nwithin a particular Domain using the left-side search filters. "),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(11635).Z})),(0,o.kt)("p",null,"On the homepage, you'll also find a list of the most popular Domains in your organization."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(18278).Z})),(0,o.kt)("h2",{id:"domains-api"},"Domains API"),(0,o.kt)("p",null,"Domains can be managed via the ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/graphql/overview/"},"GraphQL API"),". Below you'll find the relevant Queries & Mutations\nto achieve this. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/graphql/queries#domain"},"domain")," - Fetch a Domain's details by Urn. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/graphql/queries#listdomains"},"listDomains")," - List all Domains inside your DataHub instance. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/graphql/mutations#createdomain"},"createDomain")," - Create a new Domain."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/graphql/mutations#setdomain"},"setDomain")," - Add an entity to a Domain"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/graphql/mutations#unsetdomain"},"unsetDomain")," - Remove an entity from a Domain.")),(0,o.kt)("h3",{id:"examples"},"Examples"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Creating a Domain")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql"},'mutation createDomain {\n  createDomain(input: { name: "My New Domain", description: "An optional description" })\n}\n')),(0,o.kt)("p",null,"This query will return an ",(0,o.kt)("inlineCode",{parentName:"p"},"urn")," which you can use to fetch the Domain details. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Fetching a Domain by Urn")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql"},'query getDomain {\n  domain(urn: "urn:li:domain:engineering") {\n    urn\n    properties {\n        name \n        description\n    }\n    entities {\n            total\n    }\n  }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Adding a Dataset to a Domain")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql"},'mutation setDomain {\n  setDomain(entityUrn: "urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)", domainUrn: "urn:li:domain:engineering")\n}\n')),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Pro Tip! You can try out the sample queries by visiting ",(0,o.kt)("inlineCode",{parentName:"p"},"<your-datahub-url>/api/graphiql"),".")),(0,o.kt)("h2",{id:"demo"},"Demo"),(0,o.kt)("p",null,"Click ",(0,o.kt)("a",{parentName:"p",href:"https://www.loom.com/share/72b3bcc2729b4df0982fa63ae3a8cb21"},"here")," to see a full demo of the Domains feature. "),(0,o.kt)("h2",{id:"feedback--questions--concerns"},"Feedback / Questions / Concerns"),(0,o.kt)("p",null,"We want to hear from you! For any inquiries, including Feedback, Questions, or Concerns, reach out on Slack!"))}u.isMDXComponent=!0},18278:function(e,n,a){n.Z=a.p+"assets/images/browse-domains-a7aed8728533a854c806146241df1e5c.png"},35537:function(e,n,a){n.Z=a.p+"assets/images/create-domain-9960de6e437fe8e0cbf24d573ca66109.png"},61319:function(e,n,a){n.Z=a.p+"assets/images/domain-entities-ac95773d1d9b0867d530d50facbbae8e.png"},29834:function(e,n,a){n.Z=a.p+"assets/images/domains-tab-993ed06fcdb7440b9e5ed9b42ad0292c.png"},52409:function(e,n,a){n.Z=a.p+"assets/images/list-domains-34b893dfc9b28d0ae197372a7abeae0f.png"},11635:function(e,n,a){n.Z=a.p+"assets/images/search-by-domain-fbbe8e66ed37e439c5d2d119ba7dd557.png"},56076:function(e,n,a){n.Z=a.p+"assets/images/search-domain-6dfd651ecebf06ec4e6f1a73a9edfb5f.png"},69196:function(e,n,a){n.Z=a.p+"assets/images/set-domain-id-da09e202a39a41f6beff0f3bda4edc8f.png"},96892:function(e,n,a){n.Z=a.p+"assets/images/set-domain-241fc4a254900f705bbdf3120945598a.png"}}]);