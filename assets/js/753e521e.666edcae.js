"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[9052],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>c});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=a,h=m["".concat(l,".").concat(c)]||m[c]||d[c]||o;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},29991:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(83117),a=(n(67294),n(3905));const o={title:"Removing Owners From Datasets",slug:"/api/tutorials/removing-owners",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-owners.md"},i="Removing Owners From Datasets",s={unversionedId:"docs/api/tutorials/removing-owners",id:"docs/api/tutorials/removing-owners",title:"Removing Owners From Datasets",description:"Why Would You Remove Owners?",source:"@site/genDocs/docs/api/tutorials/removing-owners.md",sourceDirName:"docs/api/tutorials",slug:"/api/tutorials/removing-owners",permalink:"/docs/api/tutorials/removing-owners",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-owners.md",tags:[],version:"current",frontMatter:{title:"Removing Owners From Datasets",slug:"/api/tutorials/removing-owners",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-owners.md"},sidebar:"overviewSidebar",previous:{title:"Removing Terms From Datasets/Columns",permalink:"/docs/api/tutorials/removing-terms"},next:{title:"Reading Domains From Datasets",permalink:"/docs/api/tutorials/removing-domains"}},l={},p=[{value:"Why Would You Remove Owners?",id:"why-would-you-remove-owners",level:2},{value:"Goal Of This Guide",id:"goal-of-this-guide",level:3},{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Remove Owners With GraphQL",id:"remove-owners-with-graphql",level:2},{value:"GraphQL Explorer",id:"graphql-explorer",level:3},{value:"CURL",id:"curl",level:3},{value:"Remove Ownerships With Python SDK",id:"remove-ownerships-with-python-sdk",level:2},{value:"Expected Outcomes",id:"expected-outcomes",level:2}],u={toc:p};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"removing-owners-from-datasets"},"Removing Owners From Datasets"),(0,a.kt)("h2",{id:"why-would-you-remove-owners"},"Why Would You Remove Owners?"),(0,a.kt)("p",null,"Assigning an owner to an entity helps to establish accountability for the metadata and collaborating as a team.\nIf there are any issues or questions about the data, the designated owner can serve as a reliable point of contact."),(0,a.kt)("h3",{id:"goal-of-this-guide"},"Goal Of This Guide"),(0,a.kt)("p",null,"This guide will show you how to remove the owner ",(0,a.kt)("inlineCode",{parentName:"p"},"John Doe")," from the ",(0,a.kt)("inlineCode",{parentName:"p"},"SampleHdfsDataset")," datatset."),(0,a.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,a.kt)("p",null,"For this tutorial, you need to deploy DataHub Quickstart and ingest sample data.\nFor detailed information, please refer to ",(0,a.kt)("a",{parentName:"p",href:"/docs/quickstart"},"Datahub Quickstart Guide"),"."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Before removing owners, you need to ensure the targeted dataset and the owner are already present in your datahub.\nIf you attempt to manipulate entities that do not exist, your operation will fail.\nIn this guide, we will be using data from a sample ingestion.")),(0,a.kt)("h2",{id:"remove-owners-with-graphql"},"Remove Owners With GraphQL"),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Please note that there are two available endpoints (",(0,a.kt)("inlineCode",{parentName:"p"},":8000"),", ",(0,a.kt)("inlineCode",{parentName:"p"},":9002"),") to access ",(0,a.kt)("inlineCode",{parentName:"p"},"graphql"),".\nFor more information about the differences between these endpoints, please refer to ",(0,a.kt)("a",{parentName:"p",href:"/docs/metadata-service#graphql-api"},"DataHub Metadata Service"))),(0,a.kt)("h3",{id:"graphql-explorer"},"GraphQL Explorer"),(0,a.kt)("p",null,"GraphQL Explorer is the fastest way to experiment with GraphQL without any dependencies.\nNavigate to GraphQL Explorer (",(0,a.kt)("inlineCode",{parentName:"p"},"http://localhost:9002/api/graphiql"),") and run the following query."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'mutation removeOwners {\n    removeOwner(\n      input: {\n        ownerUrn: "urn:li:corpuser:jdoe",\n        resourceUrn: "urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)",\n            }\n    )\n}\n')),(0,a.kt)("p",null,"Note that you can also remove owners from multiple entities or subresource using ",(0,a.kt)("inlineCode",{parentName:"p"},"batchRemoveOwners"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'mutation batchRemoveOwners {\n    batchRemoveOwners(\n      input: {\n        ownerUrns: ["urn:li:corpuser:jdoe"],\n        resources: [\n          { resourceUrn:"urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)"} ,\n          { resourceUrn:"urn:li:dataset:(urn:li:dataPlatform:hive,fct_users_created,PROD)"} ,]\n      }\n    )\n}\n')),(0,a.kt)("p",null,"Expected Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "data": {\n    "removeOwner": true\n  },\n  "extensions": {}\n}\n')),(0,a.kt)("h3",{id:"curl"},"CURL"),(0,a.kt)("p",null,"With CURL, you need to provide tokens. To generate a token, please refer to ",(0,a.kt)("a",{parentName:"p",href:"/docs/api/graphql/token-management"},"Access Token Management"),".\nWith ",(0,a.kt)("inlineCode",{parentName:"p"},"accessToken"),", you can run the following command."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'curl --location --request POST \'http://localhost:8080/api/graphql\' \\\n--header \'Authorization: Bearer <my-access-token>\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{ "query": "mutation removeOwner { removeOwner(input: { ownerUrn: \\"urn:li:corpuser:jdoe\\", resourceUrn: \\"urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)\\" }) }", "variables":{}}\'\n')),(0,a.kt)("h2",{id:"remove-ownerships-with-python-sdk"},"Remove Ownerships With Python SDK"),(0,a.kt)("p",null,"Following codes remove an owner named ",(0,a.kt)("inlineCode",{parentName:"p"},"John Doe")," from a dataset named ",(0,a.kt)("inlineCode",{parentName:"p"},"SampleHdfsDataset"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Coming Soon!")),(0,a.kt)("p",null,"We're using the ",(0,a.kt)("inlineCode",{parentName:"p"},"MetdataChangeProposalWrapper")," to change entities in this example.\nFor more information about the ",(0,a.kt)("inlineCode",{parentName:"p"},"MetadataChangeProposal"),", please refer to ",(0,a.kt)("a",{parentName:"p",href:"/docs/advanced/mcp-mcl"},"MetadataChangeProposal & MetadataChangeLog Events")),(0,a.kt)("p",null,"Expected Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{ "data": { "removeOwner": true }, "extensions": {} }\n')),(0,a.kt)("h2",{id:"expected-outcomes"},"Expected Outcomes"),(0,a.kt)("p",null,"You can now see ",(0,a.kt)("inlineCode",{parentName:"p"},"John Doe")," has been removed as an owner from the ",(0,a.kt)("inlineCode",{parentName:"p"},"fct_users_created")," dataset."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"ownership-removed",src:n(25753).Z,width:"2044",height:"874"})))}d.isMDXComponent=!0},25753:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/owner-removed-97990f9f75c184aab36878168a9594e2.png"}}]);