"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[6960],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>c});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),m=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=m(r),c=n,h=d["".concat(l,".").concat(c)]||d[c]||p[c]||o;return r?a.createElement(h,s(s({ref:t},u),{},{components:r})):a.createElement(h,s({ref:t},u))}));function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var m=2;m<o;m++)s[m]=r[m];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},40514:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>m});var a=r(83117),n=(r(67294),r(3905));const o={title:"Removing Terms From Datasets/Columns",slug:"/api/tutorials/removing-terms",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-terms.md"},s="Removing Terms From Datasets/Columns",i={unversionedId:"docs/api/tutorials/removing-terms",id:"docs/api/tutorials/removing-terms",title:"Removing Terms From Datasets/Columns",description:"Why Would You Remove Terms?",source:"@site/genDocs/docs/api/tutorials/removing-terms.md",sourceDirName:"docs/api/tutorials",slug:"/api/tutorials/removing-terms",permalink:"/docs/api/tutorials/removing-terms",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-terms.md",tags:[],version:"current",frontMatter:{title:"Removing Terms From Datasets/Columns",slug:"/api/tutorials/removing-terms",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/removing-terms.md"},sidebar:"overviewSidebar",previous:{title:"Removing Tags From Datasets/Columns",permalink:"/docs/api/tutorials/removing-tags"},next:{title:"Removing Owners From Datasets",permalink:"/docs/api/tutorials/removing-owners"}},l={},m=[{value:"Why Would You Remove Terms?",id:"why-would-you-remove-terms",level:2},{value:"Goal Of This Guide",id:"goal-of-this-guide",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Remove Terms With GraphQL",id:"remove-terms-with-graphql",level:2},{value:"GraphQL Explorer",id:"graphql-explorer",level:3},{value:"CURL",id:"curl",level:3},{value:"Remove Terms With Python SDK",id:"remove-terms-with-python-sdk",level:2},{value:"Expected Outcomes",id:"expected-outcomes",level:2}],u={toc:m};function p(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"removing-terms-from-datasetscolumns"},"Removing Terms From Datasets/Columns"),(0,n.kt)("h2",{id:"why-would-you-remove-terms"},"Why Would You Remove Terms?"),(0,n.kt)("p",null,"The Business Glossary(Term) feature in DataHub helps you use a shared vocabulary within the orgarnization, by providing a framework for defining a standardized set of data concepts and then associating them with the physical assets that exist within your data ecosystem."),(0,n.kt)("p",null,"For more information about terms, refer to ",(0,n.kt)("a",{parentName:"p",href:"/docs/glossary/business-glossary"},"About DataHub Business Glossary"),"."),(0,n.kt)("h3",{id:"goal-of-this-guide"},"Goal Of This Guide"),(0,n.kt)("p",null,"This guide will show you how to remove a term ",(0,n.kt)("inlineCode",{parentName:"p"},"CustomerAccount")," from the ",(0,n.kt)("inlineCode",{parentName:"p"},"user_name")," column of a dataset called ",(0,n.kt)("inlineCode",{parentName:"p"},"fct_users_created"),".\nAdditionally, we will cover how to remove a term from the dataset or from multiple entities."),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("p",null,"For this tutorial, you need to deploy DataHub Quickstart and ingest sample data.\nFor detailed steps, please refer to ",(0,n.kt)("a",{parentName:"p",href:"/docs/quickstart"},"Datahub Quickstart Guide"),"."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Before removing terms, you need to ensure the targeted dataset and the term are already present in your datahub.\nIf you attempt to manipulate entities that do not exist, your operation will fail.\nIn this guide, we will be using data from a sample ingestion.\nSpecifically, we will assume that the term ",(0,n.kt)("inlineCode",{parentName:"p"},"CustomerAccount")," is attached to the ",(0,n.kt)("inlineCode",{parentName:"p"},"user_name")," column of a dataset ",(0,n.kt)("inlineCode",{parentName:"p"},"fct_users_created"),".\nTo learn how to add terms to your own datasets, please refer to our documentation on ",(0,n.kt)("a",{parentName:"p",href:"/docs/api/tutorials/adding-terms"},"Adding Terms"),".")),(0,n.kt)("h2",{id:"remove-terms-with-graphql"},"Remove Terms With GraphQL"),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Please note that there are two available endpoints (",(0,n.kt)("inlineCode",{parentName:"p"},":8000"),", ",(0,n.kt)("inlineCode",{parentName:"p"},":9002"),") to access GraphQL.\nFor more information about the differences between these endpoints, please refer to ",(0,n.kt)("a",{parentName:"p",href:"/docs/metadata-service#graphql-api"},"DataHub Metadata Service"))),(0,n.kt)("h3",{id:"graphql-explorer"},"GraphQL Explorer"),(0,n.kt)("p",null,"GraphQL Explorer is the fastest way to experiment with GraphQL without any dependencies.\nNavigate to GraphQL Explorer (",(0,n.kt)("inlineCode",{parentName:"p"},"http://localhost:9002/api/graphiql"),") and run the following query."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'mutation removeTerm {\n    removeTerm(\n      input: {\n        termUrn: "urn:li:glossaryTerm:CustomerAccount",\n        resourceUrn: "urn:li:dataset:(urn:li:dataPlatform:hive,fct_users_created,PROD)",\n        subResourceType:DATASET_FIELD,\n        subResource:"user_name"})\n}\n')),(0,n.kt)("p",null,"Note that you can also remove a term from a dataset if you don't specify ",(0,n.kt)("inlineCode",{parentName:"p"},"subResourceType")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"subResource"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'mutation removeTerm {\n    removeTerm(\n      input: {\n        termUrn: "urn:li:glossaryTerm:CustomerAccount",\n        resourceUrn: "urn:li:dataset:(urn:li:dataPlatform:hive,fct_users_created,PROD)",\n      })\n}\n')),(0,n.kt)("p",null,"Also note that you can remove terms from multiple entities or subresource using ",(0,n.kt)("inlineCode",{parentName:"p"},"batchRemoveTerms"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'mutation batchRemoveTerms {\n    batchRemoveTerms(\n      input: {\n        termUrns: ["urn:li:glossaryTerm:CustomerAccount"],\n        resources: [\n          { resourceUrn:"urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)"} ,\n          { resourceUrn:"urn:li:dataset:(urn:li:dataPlatform:hive,fct_users_created,PROD)"} ,]\n      }\n    )\n}\n')),(0,n.kt)("p",null,"If you see the following response, the operation was successful:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "data": {\n    "removeTerm": true\n  },\n  "extensions": {}\n}\n')),(0,n.kt)("h3",{id:"curl"},"CURL"),(0,n.kt)("p",null,"With CURL, you need to provide tokens. To generate a token, please refer to ",(0,n.kt)("a",{parentName:"p",href:"/docs/api/graphql/token-management"},"Access Token Management"),".\nWith ",(0,n.kt)("inlineCode",{parentName:"p"},"accessToken"),", you can run the following command."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},'curl --location --request POST \'http://localhost:8080/api/graphql\' \\\n--header \'Authorization: Bearer <my-access-token>\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{ "query": "mutation removeTerm { removeTerm(input: { termUrn: \\"urn:li:glossaryTerm:CustomerAccount\\", resourceUrn: \\"urn:li:dataset:(urn:li:dataPlatform:hdfs,SampleHdfsDataset,PROD)\\" }) }", "variables":{}}\'\n')),(0,n.kt)("p",null,"Expected Response:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{ "data": { "removeTerm": true }, "extensions": {} }\n')),(0,n.kt)("h2",{id:"remove-terms-with-python-sdk"},"Remove Terms With Python SDK"),(0,n.kt)("p",null,"The following code removes a term named ",(0,n.kt)("inlineCode",{parentName:"p"},"Legacy")," from ",(0,n.kt)("inlineCode",{parentName:"p"},"shipment_info")," column of a dataset called ",(0,n.kt)("inlineCode",{parentName:"p"},"SampleHdfsDataset"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Coming Soon!")),(0,n.kt)("p",null,"We're using the ",(0,n.kt)("inlineCode",{parentName:"p"},"MetdataChangeProposalWrapper")," to change entities in this example.\nFor more information about the ",(0,n.kt)("inlineCode",{parentName:"p"},"MetadataChangeProposal"),", please refer to ",(0,n.kt)("a",{parentName:"p",href:"/docs/advanced/mcp-mcl"},"MetadataChangeProposal & MetadataChangeLog Events")),(0,n.kt)("h2",{id:"expected-outcomes"},"Expected Outcomes"),(0,n.kt)("p",null,"You can now see ",(0,n.kt)("inlineCode",{parentName:"p"},"CustomerAccount")," term has been removed to ",(0,n.kt)("inlineCode",{parentName:"p"},"user_name")," column."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"term-removed",src:r(90809).Z,width:"2014",height:"904"})))}p.isMDXComponent=!0},90809:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/term-removed-0508c0639c2467946e669060e5fbe14b.png"}}]);